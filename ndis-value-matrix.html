<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NDIS Value Mapping Tool</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      line-height: 1.5;
    }
    h2 {
      color: #004080;
    }
    .slider-container {
      margin-bottom: 30px;
    }
    .output-box {
      border: 2px solid #ccc;
      padding: 20px;
      margin-top: 20px;
      border-radius: 8px;
    }
    .high {
      background-color: #e6f7ff;
    }
    .medium {
      background-color: #fff3cd;
    }
    .low {
      background-color: #f8d7da;
    }
    label {
      font-weight: bold;
    }
    .tooltip {
      font-size: 0.9em;
      margin-top: 5px;
      color: #555;
    }
    .summary-card {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      background-color: #f4f4f4;
      border-left: 6px solid #004080;
    }
  </style>
</head>
<body>

  <h2>NDIS Non-Direct Revenue Role Value Mapping</h2>

  <label>Role Title:</label><br>
  <input type="text" id="roleTitle" placeholder="e.g. Workforce Planner" style="width: 100%; margin-bottom: 20px; padding: 8px;">

  <div class="slider-container">
    <label for="creationSlider">Value Creation Score (1‚Äì10):</label><br>
    <input type="range" id="creationSlider" min="1" max="10" value="5" oninput="updateOutput()">
    <div class="tooltip" id="creationTooltip"></div>
  </div>

  <div class="slider-container">
    <label for="protectionSlider">Value Protection Score (1‚Äì10):</label><br>
    <input type="range" id="protectionSlider" min="1" max="10" value="5" oninput="updateOutput()">
    <div class="tooltip" id="protectionTooltip"></div>
  </div>

  <label>Average Revenue per FTE ($):</label><br>
  <input type="number" id="revenueFTE" placeholder="e.g. 170000" style="width: 100%; margin-bottom: 20px; padding: 8px;"><br>

  <label>Approximate Annual Cost of this Role ($):</label><br>
  <input type="number" id="roleCost" placeholder="e.g. 125000" style="width: 100%; margin-bottom: 20px; padding: 8px;"><br>

  <button onclick="generateSummary()">Generate Summary</button>

  <div id="resultBox" class="output-box"></div>

  <script>
    function getCreationTooltip(score) {
      if (score >= 9) return "üìà Serves 50+ participants or boosts quality by 20%+ or reduces service time 30%+";
      if (score >= 7) return "üìä Serves 25‚Äì49 participants or quality +10‚Äì19% or time ‚Äì15‚Äì29%";
      if (score >= 5) return "üõ†Ô∏è Serves 10‚Äì24 participants or enables new service capability";
      if (score >= 3) return "üë• Indirectly supports services or improves staff efficiency 10%+";
      return "üìÅ Minimal participant impact; mostly administrative";
    }

    function getProtectionTooltip(score) {
      if (score >= 9) return "üõ°Ô∏è Prevents non-compliance or reduces incidents 50%+ or manages $500K+ exposure";
      if (score >= 7) return "‚úÖ Ensures audit readiness or reduces incidents 25‚Äì49% or $200‚Äì499K risk";
      if (score >= 5) return "üîß Maintains quality standards or manages $50‚Äì199K risk";
      if (score >= 3) return "üìã Supports compliance or manages low risk or staff development";
      return "üóÇÔ∏è Minimal risk impact; routine tasks";
    }

    function getQuadrant(c, p) {
      if (c >= 7 && p >= 7) return { label: "‚úÖ Prioritise and Protect", style: "high" };
      if (c >= 7 && p <= 6) return { label: "üöÄ Amplify with Care", style: "medium" };
      if (c <= 6 && p >= 7) return { label: "üõ†Ô∏è Streamline but Monitor", style: "medium" };
      return { label: "‚ùå Target for Reduction or Reinvention", style: "low" };
    }

    function updateOutput() {
      const c = parseInt(document.getElementById("creationSlider").value);
      const p = parseInt(document.getElementById("protectionSlider").value);
      document.getElementById("creationTooltip").innerText = getCreationTooltip(c);
      document.getElementById("protectionTooltip").innerText = getProtectionTooltip(p);
    }

    function generateSummary() {
      const c = parseInt(document.getElementById("creationSlider").value);
      const p = parseInt(document.getElementById("protectionSlider").value);
      const role = document.getElementById("roleTitle").value || "Unnamed Role";
      const revenue = parseFloat(document.getElementById("revenueFTE").value);
      const cost = parseFloat(document.getElementById("roleCost").value);
      const quadrant = getQuadrant(c, p);

      const costJustified = (revenue && cost) ? (cost <= revenue ? "‚úÖ Yes" : "‚ùå No") : "‚ö†Ô∏è Not Evaluated";

      document.getElementById("resultBox").innerHTML = `
        <div class="summary-card ${quadrant.style}">
          <h3>${role}</h3>
          <strong>Value Creation:</strong> ${c} ‚Äì ${getCreationTooltip(c)}<br>
          <strong>Value Protection:</strong> ${p} ‚Äì ${getProtectionTooltip(p)}<br>
          <strong>Quadrant:</strong> ${quadrant.label}<br><br>

          <strong>Avg Revenue/FTE:</strong> $${revenue || '‚Äî'}<br>
          <strong>Role Cost:</strong> $${cost || '‚Äî'}<br>
          <strong>Is Cost Justified?</strong> ${costJustified}
        </div>
      `;
    }

    updateOutput(); // initialize tooltips
  </script>

</body>
</html>
